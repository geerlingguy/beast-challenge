{% extends 'base.html' %}

{% block content %}
    <h2>Last Press</h2>
        <div class="latest-press">
            <table>
                <tr>
                    <td class="pt-4 pb-5" style="width: 50%;">
                        <span class="label">Room</span><br>
                        <span class="value">{{ presses[0].room_id }}</span>
                    </td>
                </tr>
            </table>
            <div class="text-center press-metadata pb-2">Button Pushed at: {{ presses[0].created }} for round {{ presses[0].round_id }}</div>
        </div>
    <h2 class="mt-2">Recent Presses</h2>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Room</th>
                <th scope="col">Time</th>
                <th scope="col">Value</th>
                <th scope="col">Round</th>
            </tr>
        </thead>
        <tbody>
            {% set _presses = presses.pop(0) %}
            {% for press in presses %}
            <tr>
                <th scope="row">{{ press.room_id }}</th>
                <td>{{ press.created }}</td>
                <td>{{ press.value }}</td>
                <td>{{ press.round_id }}</td>
            </tr>
            {% endfor %}
          </tbody>
    </table>
    <!-- Refresh page every 3 seconds -->
    <script type="text/javascript">
        setTimeout(function () { location.reload(1); }, 3000);
    </script>
{% endblock %}
